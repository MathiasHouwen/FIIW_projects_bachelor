<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Evenement Poll</title>
  <script>
    async function createPoll() {
      const organizer = document.getElementById("organizer").value;
      const dates = document.getElementById("dates").value.split(",");
      const invitees = document.getElementById("invitees").value.split(",");
      const eventName = document.getElementById("event_name").value;

      const res = await fetch("/create_poll", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ event_name: eventName, organizer_email: organizer, dates, invitees })
      });

      const data = await res.json();
      document.getElementById("pollId").innerText = `Poll ID: ${data.poll_id}`;
    }
  </script>
</head>
<body style="font-family: sans-serif; padding: 2em">
  <h1>Evenement Poll Aanmaken</h1>

  <label>Naam van het evenement:</label><br />
  <input id="event_name" type="text" placeholder="BBQ, vergadering..." /><br /><br />

  <label>Organisator E-mail:</label><br />
  <input id="organizer" type="email" /><br /><br />

  <label>Datums (gescheiden door komma's):</label><br />
  <input id="dates" type="text" placeholder="2025-06-01,2025-06-02" /><br /><br />

  <label>Uit te nodigen e-mails:</label><br />
  <input id="invitees" type="text" placeholder="jan@example.com,lotte@example.com" /><br /><br />

  <button onclick="createPoll()">Poll aanmaken</button><br /><br />
  <p id="pollId"></p>
</body>
</html>
